---
title: í…Œë§ˆ ìŠ¤ìœ„ì¹˜ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°
date: 2019-02-21 16:02:45
category: web
---

ì´ ë¸”ë¡œê·¸ í…œí”Œë¦¿ì—ëŠ” ìš°ì¸¡ ìƒë‹¨ì— dark theme, light themeë¥¼ **switch í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥**ì´ ìˆìŠµë‹ˆë‹¤. êµ¬í˜„ì„ ê¶ê¸ˆí•´í•˜ì‹œëŠ” ë¶„ë“¤ì´ ê³„ì‹¤ ê²ƒ ê°™ì•„ì„œ í•˜ë‚˜ì˜ í¬ìŠ¤íŒ…ìœ¼ë¡œ ì‘ì„±í•´ë´¤ìŠµë‹ˆë‹¤.

## CSS

CSSëŠ” **Cascading Style Sheets** ì˜ ì•½ìì…ë‹ˆë‹¤. ì ì ˆí•œ ì´ë¦„ì´ ì•„ë‹ˆë¼ê³  ìƒê°í•˜ì‹œëŠ” ë¶„ë„ ê³„ì‹œë˜ë°, ì €ëŠ” ì–¸ì–´ì˜ **ì—­í• **ê³¼ ê·¸ **íŠ¹ì„±**ì„ êµ‰ì¥íˆ ì˜ ì‚´ë¦° ì´ë¦„ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.
CSSë¼ëŠ” ì–¸ì–´ê°€ ìŠ¤íƒ€ì¼ë§(styling)ì´ ì£¼ ëª©ì ì´ë‹¤ ë³´ë‹ˆ ëŒ€ë¶€ë¶„ **Style Sheets**ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ ë©ë‹ˆë‹¤. ë¬¼ë¡  ìŠ¤íƒ€ì¼ë§ í•œë‹¤ëŠ” ë¶€ë¶„ë„ ì¤‘ìš”í•˜ì§€ë§Œ ì •ì˜í•œ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ëŠ” ì›ë¦¬ì— ìˆì–´ì„œëŠ” **Cascading**ì´ë€ ë¶€ë¶„ì´ ë” ì¤‘ìš”í•©ë‹ˆë‹¤.

### Cascading ?

ì‚¬ì „ì  ì •ì˜ë¡œëŠ” **pour downward rapidly and in large quantities**ë¼ëŠ” ëœ»ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. **â€˜ìœ„ì—ì„œë¶€í„° ë‚´ë ¤ì˜¤ë©´ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì ìš©ë¨â€™**ìœ¼ë¡œ í•´ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰ `body` ìš”ì†Œì˜ í•˜ìœ„ ìš”ì†Œì¸ ê²½ìš° `body`ì— ì ìš©ëœ ìŠ¤íƒ€ì¼ì´ í•˜ìœ„ ìš”ì†Œì—ë„ ì ìš©ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ íŠ¹ì„±ì„ ì¢€ ë” í™œìš©í•˜ë©´ ìƒìœ„ì— ì–´ë– í•œ ìŠ¤íƒ€ì¼ ê°’ì´ ì •ì˜ë˜ì—ˆë”ë¼ë„ í•˜ìœ„ì—ì„œ í•´ë‹¹ ì •ì˜ë¥¼ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì¬ì •ì˜(override)ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### CSSOM

![](./images/apply-theme-cssom.png)

ë¸Œë¼ìš°ì €ê°€ HTML ì½”ë“œë¥¼ parsing í•˜ì—¬ HTML node íŠ¸ë¦¬(DOM)ë¥¼ ìƒì„±í•˜ëŠ”ë°, ì´ ë•Œ `link` íƒœê·¸ë¡œ ì¶”ê°€ë˜ì–´ ìˆëŠ” CSS ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ CSSOMì„ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤. CSSOM ë˜í•œ DOMê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ê°–ìŠµë‹ˆë‹¤. ì´ íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ë”°ë¼ cascading ì›ë¦¬ê°€ ì ìš©ë©ë‹ˆë‹¤.

ì§€ê¸ˆë¶€í„° ì‘ì€ ì˜ˆì œë¥¼ í†µí•´ ìŠ¤íƒ€ì¼ë§ì—ë§Œ ì§‘ì¤‘í•œ CSS ì½”ë“œì™€ Cascading ì›ë¦¬ë¥¼ í™œìš©í•œ ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

## Just Styling

```css
.box {
  width: 200px;
  height: 200px;
  background-color: red;
}
```

`.box`ë¼ëŠ” ì„ íƒìë¥¼ ê°–ëŠ” íƒœê·¸ì— ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œì—ì„œëŠ” `background-color`ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½ì‹œí‚¤ê³ ì ë³„ë„ ì„ íƒìë¡œ ìŠ¤íƒ€ì¼ì„ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.

```css
.box {
  width: 200px;
  height: 200px;
}
.box.red {
  background-color: red;
}
.box.blue {
  background-color: blue;
}
```

`box`ì™€ `red` í´ë˜ìŠ¤ë¥¼ ê°–ëŠ” ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ë¹¨ê°„ ìƒìê°€ ë  ê²ƒì´ê³  `box`ì™€ `orange` í´ë˜ìŠ¤ë¥¼ ê°–ëŠ” ì—˜ë¦¬ë¨¼íŠ¸ëŠ” íŒŒë€ ìƒìê°€ ë  ê²ƒ ì…ë‹ˆë‹¤.

ì—¬ê¸°ê¹Œì§€ëŠ” ì¢‹ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ (ë˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ì˜) ì „ì²´ í…Œë§ˆë¥¼ ë°”ê¿”ì£¼ê¸° ìœ„í•´ì„œëŠ” `background-color`ë¥¼ ë¹„ë¡¯í•˜ì—¬, ì—¬ëŸ¬ ì—˜ë¦¬ë¨¼íŠ¸ì˜ ìƒ‰ìƒì„ ë³€ê²½í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ìƒ‰ìƒì„ ê´€ë¦¬í•˜ëŠ” ì„ íƒìë¥¼ í† ê¸€(toggle)í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ êµ¬í˜„í•œë‹¤ë©´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì•„ ì§‘ë‹ˆë‹¤.

```css
.wrapper.dark {
  /* ì–´ë‘ìš´ ë°°ê²½ìƒ‰ ì ìš© */
}
.wrapper.light {
  /* ë°ì€ ë°°ê²½ìƒ‰ ì ìš© */
}
.header.dark {
  /* ë°ì€ ê¸€ì”¨ */
}
.header.light {
  /* ì–´ë‘ìš´ êµ´ì”¨ */
}
/* ... */
```

ì—¬ê¸°ê¹Œì§€ë„ ì¢‹ìŠµë‹ˆë‹¤. í…Œë§ˆë¥¼ ë°”ê¾¼ë‹¤ëŠ” ê²ƒì€ ìƒ‰ìƒì„ ë°”ê¾¸ëŠ” ê²ƒì´ë‹ˆ ë³„ë„ ì„ íƒìë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë§ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í…Œë§ˆë¥¼ ë³€ê²½í•´ì•¼ í•˜ëŠ” ìˆœê°„, ìƒ‰ìƒì„ ë³€ê²½í•´ì¤˜ì•¼ í•˜ëŠ” ëª¨ë“  Componentë“¤ì˜ ì„ íƒì(class)ë¥¼ ë³€ê²½í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. í…Œë§ˆì— ë”°ë¼ ìŠ¤íƒ€ì¼ë§ì´ í•„ìš”í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¤ìŒ `Foo`ì—˜ë¦¬ë¨¼íŠ¸ì™€ ê°™ì€ ìƒí™©ì´ ë°œìƒí•  ê²ë‹ˆë‹¤.

```js
export const Foo = ({ theme }) => {
  // do something...
  const isDarkTheme = theme === 'dark'

  return <div className={isDarkTheme ? 'dark' : 'light'} />
}
```

ìƒê°ë§Œí•´ë„ ë”ì°í•œ [props drilling](https://blog.kentcdodds.com/prop-drilling-bb62e02cb691)ì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. ğŸ˜ React Applicationì„ ëŠ¥ìˆ™í•˜ê²Œ ë‹¤ë£¨ì‹œê±°ë‚˜ ìƒíƒœ ê´€ë¦¬ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•´ë³´ì‹  ë¶„ë“¤ì´ë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë°˜ë¬¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

1. ë¬´ìŠ¨ ì†Œë¦¬ëƒ! ë„Œ Reduxë„ ëª¨ë¥´ëƒ! ğŸ˜¡
2. Reactì— Context APIê°€ ìˆëŠ” ê²ƒì„ ëª¨ë¥´ëƒ! ğŸ˜¡

ë‹¤ ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤! í•˜ì§€ë§Œ `{isDarkTheme ? 'dark' : 'light'}` ì´ ì½”ë“œê°€ ìŠ¤íƒ€ì¼ë§ì´ í•„ìš”í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ë“¤ì–´ê°€ëŠ” ê²ƒì€ í”¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¶„ëª… ë” ì¢‹ì€ ë°©ë²•ì´ ìˆì„ ê²ë‹ˆë‹¤.

## ë‹¤ì‹œ, Cascading

ì„œë¡ ì´ ê¸¸ì—ˆìŠµë‹ˆë‹¤. ìš°ì„  ë°•ìŠ¤ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë³´ë‹¤ íš¨ìœ¨ì ì¸ CSS ì½”ë“œë¡œ ë³€ê²½í•©ì‹œë‹¤. CSSê°€ ì ìš©ë˜ëŠ” ì›ë¦¬ë¥¼ ë‹¤ì‹œ ìƒê°í•´ë´…ì‹œë‹¤. ìƒìœ„ ì—˜ë¦¬ë¨¼íŠ¸ì˜ ì„ íƒìë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ìœ„ ì—˜ë¦¬ë¨¼íŠ¸ì˜ ìƒ‰ìƒì„ ë³€ê²½í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”? ë‹¤ìŒê³¼ ê°™ì´ ë§ì…ë‹ˆë‹¤.

```css
div.red .box {
  background-color: red;
}

div.blue .box {
  background-color: blue;
}
```

ì—¬ëŸ¬ `.box` ì—˜ë¦¬ë¨¼íŠ¸ì˜ ìƒìœ„ íƒœê·¸ì¸ `div`íƒœê·¸ì— `red` ì„ íƒìê°€ ìˆë‹¤ë©´, `background-color`ê°€ `red`. `blue` ì„ íƒìê°€ ìˆë‹¤ë©´ `blue` ìƒ‰ìƒì„ ì ìš©í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì‹¤ì œ Codepenì—ì„œ í•´ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. [Codepen - Cascading Example](https://codepen.io/Jbee/pen/XOQjrZ)

ì´ì œ ê°ì´ ì¢€ ì¡íˆì…¨ë‚˜ìš”? ìœ„ `dark`, `light` í´ë˜ìŠ¤ë¡œ ë•ì§€ ë•ì§€ ë¶™ì–´ìˆë˜ CSS ì½”ë“œë¥¼ ë³€ê²½í•´ë´…ì‹œë‹¤.

### Control classes of body

ì ìš©í•˜ê³ ì í•˜ëŠ” í…Œë§ˆì˜ ìƒ‰ìƒê³¼ ê´€ë ¨ëœ í´ë˜ìŠ¤ëŠ” ì–´ë””ì„œ ì œì–´í•˜ë©´ ì¢‹ì„ê¹Œìš”? ë°©ê¸ˆ ì „ì˜ ì˜ˆì œì—ì„œëŠ” ìƒ‰ìƒ ë³€ê²½ì„ ì œì–´í•  ì—˜ë¦¬ë¨¼íŠ¸ì˜ **ê³µí†µ ë¶€ëª¨**ì— ì ìš©í–ˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— í…Œë§ˆë¥¼ ì ìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— `body` íƒœê·¸ì—ì„œ ì œì–´í•˜ë„ë¡ í•©ì‹œë‹¤. ëª¨ë“  ì—˜ë¦¬ë¨¼íŠ¸ì˜ ë¶€ëª¨ê°€ ë˜ë‹ˆ ë¬¸ì„œ ì „ì²´ì— í…Œë§ˆë¥¼ í•œ ë²ˆì— ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```css
body.dark .wrapper {
  /* ì–´ë‘ìš´ ë°°ê²½ìƒ‰ ì ìš© */
}
body.light .wrapper {
  /* ë°ì€ ë°°ê²½ìƒ‰ ì ìš© */
}
body.dark .header {
  /* ë°ì€ ê¸€ì”¨ */
}
body.light .header {
  /* ì–´ë‘ìš´ êµ´ì”¨ */
}
```

(ì´ì „ ì½”ë“œì™€ ë¹„êµí•´ë³´ì„¸ìš”!) ëª¨ë“  ì—˜ë¦¬ë¨¼íŠ¸ì— í¼ì ¸ìˆë˜ ê²ƒì´ **ì„ íƒìë¥¼ ì œì–´í•˜ëŠ” ë¶€ë¶„**ì´ `body` íƒœê·¸ì˜ í´ë˜ìŠ¤ í•˜ë‚˜ë§Œ í† ê¸€ì‹œì¼œì£¼ë©´ ëª¨ë“  ìƒ‰ìƒì´ ì ìš©ë˜ë„ë¡ ë³€ê²½í•´ì¤¬ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì•„ì§ë„ ìˆ˜ë§ì€ **ì¤‘ë³µ**ì´ ë³´ì…ë‹ˆë‹¤. `body.red`, `body.blue`ê°€ ê³„ì†í•´ì„œ ì¤‘ë³µë˜ê³  ìˆìŠµë‹ˆë‹¤. ë˜ ì—¬ê¸°ì„œ í…Œë§ˆê°€ í•˜ë‚˜ë¼ë„ ë” ì¶”ê°€ëœë‹¤ë©´? `body.[color]`ë¼ëŠ” ìƒìœ„ ì—˜ë¦¬ë¨¼íŠ¸ì— ëŒ€í•˜ì—¬ í•˜ìœ„ ì—˜ë¦¬ë¨¼íŠ¸ë“¤ì˜ ìƒ‰ìƒ ê°’ì„ í•˜ë‚˜ í•˜ë‚˜ ì§€ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.

## CSS Variables

CSSì—ì„œë„ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì¤‘ë³µìœ¼ë¡œ ëª…ì‹œëœ ì´ ìƒ‰ìƒë“¤ì„ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [MDN CSS Custom properties](https://developer.mozilla.org/en-US/docs/Web/CSS/--*)

```css
body.red {
  --bg: red;
  --border-color: gray;
  --header-text-color: orange;
}
body.blue {
  --bg: blue;
  --border-color: white;
  --header-text-color: skyblue;
}
```

ì„ ì–¸ëœ `--bg`, `--border-color`, `--header-text-color` ë“±ì˜ ë³€ìˆ˜ ê°’ì€ `body` íƒœê·¸ì— `red` í´ë˜ìŠ¤ê°€ ë¶™ì–´ìˆëƒ `blue` í´ë˜ìŠ¤ê°€ ë¶™ì–´ìˆëŠëƒì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

ì´ë ‡ê²Œ ì •ì˜í•œ ë³€ìˆ˜ë¥´ ê°ê°ì˜ ì—˜ë¦¬ë¨¼íŠ¸ì—ì„œ ë°”ë¡œ ì‚¬ìš©ë§Œ í•´ì£¼ë©´ ë©ë‹ˆë‹¤.

```css
.wrapper {
  background-color: var(--bg);
}
.header {
  color: var(--header-text-color);
}
```

ì½”ë“œê°€ ì•„ì£¼ ì‹¬í”Œí•˜ê³  ê¹”ë”í•´ì¡ŒìŠµë‹ˆë‹¤. (Awesome! ğŸ˜Š )

### SASS

![](./images/apply-theme-sass.png)

ì•„ì‰½ê²Œë„ ì•ì„œ ì†Œê°œë“œë¦° CSS variablesì€ IE11ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ([Can I use - CSS variables](https://caniuse.com/#search=css%20variable)) ëŒ€ì‹  ì €í¬ëŠ” [SASS](https://sass-lang.com/)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¯¸ ë§ì€ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ê³  ìˆëŠ” CSS ì „ì²˜ë¦¬ê¸° ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

ì œ ë¸”ë¡œê·¸ í…œí”Œë¦¿ì˜ ê¸°ë°˜ì€ Gatsbyì—ì„œëŠ” [gatsby-sass-plugin](https://www.gatsbyjs.org/packages/gatsby-plugin-sass) í”ŒëŸ¬ê·¸ì¸ í•˜ë‚˜ë§Œ ì¶”ê°€í•´ì£¼ë©´ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. SASSì˜ ì¸ê¸°ê°€ ë†’ì€ì§€, CRA 2.0 versionì—ì„œëŠ” defaultë¡œ ì¶”ê°€í•´ì¤¬ìŠµë‹ˆë‹¤.

SASSì—ì„œëŠ” ì—¬ëŸ¬ ê°€ì§€ ê¸°ëŠ¥ì´ ìˆê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ themeì— ë”°ë¼ ìŠ¤íƒ€ì¼ë§ í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³€ìˆ˜ ì„ ì–¸ë„ ë¬¼ë¡  ê°€ëŠ¥í•˜ê³ , mixinì„ í†µí•´ì„œ ìŠ¤íƒ€ì¼ë§ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

## Toggle theme!

ì´ì   `body`ì˜ í´ë˜ìŠ¤ë¥¼ ì»¨íŠ¸ë¡¤(í´ë˜ìŠ¤ë¥¼ theme status ê°’ì— ë”°ë¼ ì„¤ì •)í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë§Œ ìˆìœ¼ë©´ ë©ë‹ˆë‹¤. í…Œë§ˆ ë³€ê²½ì— ë”°ë¥¸ ì™¸ë¶€ ë³€ê²½ì´ `body` ì—˜ë¦¬ë¨¼íŠ¸ì˜ í´ë˜ìŠ¤ ë¿ì´ê¸° ë•Œë¬¸ì— ì´ í…Œë§ˆ ìŠ¤ìœ„ì¹­ì„ ìœ„í•œ ì—˜ë¦¬ë¨¼íŠ¸ëŠ” ì™„ì „íˆ ë‹«íŒ ì»´í¬ë„ŒíŠ¸ê°€ ë©ë‹ˆë‹¤.

> :gift: ì´ ìŠ¤ìœ„ì¹˜ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ [react-switch](https://github.com/markusenglund/react-switch)ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

### Conclusion

ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ì— í…Œë§ˆë¥¼ ì¶”ê°€í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œë¥¼ í†µí•´ì„œ CSSì˜ ì•„ì£¼ ê¸°ë³¸ì ì¸ ì›ë¦¬ì— ëŒ€í•´ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.

### Reference

- [MDN CSS Custom Properties](https://developer.mozilla.org/en-US/docs/Web/CSS/--*)
- [Google Web Fundamentals - Critical Rendering Path](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/constructing-the-object-model)
